CREATE SEQUENCE CUSTOMER_ID

/
create sequence Defct_Sln

/
CREATE SEQUENCE EMP_ID

/
create sequence OSPR_SLN

/
CREATE SEQUENCE PARTY_SLN
/
CREATE SEQUENCE pur_slnCREATE SEQUENCE RELIEVE_SLN

/

START WITH 1
INCREMENT BY 1
MAXVALUE 99999
NOCYCLE

/
create sequence RPL_TO_PRNPAL_SLN

/
CREATE SEQUENCE RELIEVE_SLN

/

CREATE SEQUENCE REPLACE_SLN

/
CREATE SEQUENCE SALE_SLN
/
create table HRISHI.CURRENT_EMP_DETAIL
(
eid          NUMBER(9) CONSTRAINT eid_pk PRIMARY KEY,
ename        VARCHAR2(25) CONSTRAINT ename_nn NOT NULL,
sex          CHAR(1),
age          NUMBER(3),
address      VARCHAR2(50),
phno         VARCHAR(15),
destination  VARCHAR2(15),
join_date    DATE   DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/

CREATE SEQUENCE vendor_no
START WITH 1
INCREMENT BY 1
MAXVALUE 9999
NOCYCLE
/
create table  HRISHI.CUSTOMER_DETAIL
(
CUST_ID NUMBER(10)   CONSTRAINT ven_id_pk PRIMARY KEY,
CUST_NAME VARCHAR2(30) CONSTRIANT cust_name_nn  NOT NULL,
CUST_ADD VARCHAR2(30) CONSTRAINT  cust_add_nn   NOT NULL,
CUST_PHN VARCHAR2(20),
TOTAL_SALE NUMBER(12,2),
ENTRY_DATE DATE DEFAULT SYSDATE 
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/

 create table HRISHI.DEFECTIVE_PRO_DETAIL
 (
 defSln        NUMBER(9) CONSTRAINT defsln_pk  PRIMARY KEY,
 product_name  VARCHAR2(20) CONSTRAINT pn_nn   NOT NULL,
 category      VARCHAR2(20) ,
 qty           NUMBER(10) CONSTRAINT qty_nn    NOT NULL,
 e_date        DATE DEFAULT SYSDATE
 )
 PCTFREE 5
 PCTUSED 30
 INITRANS 10
 MAXTRANS 15
 TABLESPACE SAN
 STORAGE(INITIAL 50K
         NEXT 50K
         MAXEXTENTS 10
         PCTINCREASE 20)
/create table ON_SPOT_DEFECT_ITEM_DETAIL
(
onspt_Sln  NUMBER(9) CONSTRAINT onspt_fk  REFERENCES HRISHI.ON_SPOT_REP_DETAIL(onspt_Sln),
item_name  VARCHAR2(20) CONSTRAINT itmn_nn NOT NULL,
qty        NUMBER(10),
describle  VARCHAR2(20) NOT NULL
)PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        

/
create table HRISHI.ON_SPOT_REP_DETAIL
(
onspt_sln   NUMBER(9) CONSTRAINT onspt_sln_pk PRIMARY KEY,
cust_type   varchar2(10) CONSTRAINT ct_check CHECK(cust_type in('customer','party')),
cust_id     NUMBER(9),
cust_name   VARCHAR2(20),
onsrpl_date DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)

/
create table HRISHI.ON_SPOT_REPLACED_ITEM_DETAIL
(
onspt_sln  NUMBER(9) CONSTRAINT onst_fk REFERENCES HRISHI.ON_SPOT_REP_DETAIL(onspt_sln),
itme_name  VARCHAR2(20) CONSTRAINT itmname_nn NOT NULL,
qty        NUMBER(10)
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)      

/
CREATE TABLE PARTY_DETAIL
(
PARTY_ID NUMBER(10) CONSTRAINT PARTY_ID_PK PRIMARY KEY,
PARTY_NAME VARCHAR2(30) CONSTRAINT PARTY_NAME_NN NOT NULL,
PARTY_ADD_STREET VARCHAR2(25),
PARTY_ADD_CITY   VARCHAR2(20),
PARTY_ADD_STATE VARCHAR2(15),
PARTY_ADD_PIN NUMBER(6),
PARTY_EID VARCHAR2(25),
PARTY_PHN VARCHAR2(15),
PARTY_TOTAL_SALE NUMBER(12,2),
ENTRY_DATE DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
CREATE TABLE hrishi.product_detail 
(
  product_name VARCHAR2(30) CONSTRAINT pro_name_pk PRIMARY KEY,
  category     VARCHAR2(25) CONSTRAINT cate_nn NOT NULL,
  manuf        VARCHAR2(15) CONSTRAINT man_nn  NOT NULL,
  e_date       DATE         DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
CREATE TABLE HRISHI.purchase_detail
(
pru_sln NUMBER(9) CONSTRAINT pru_sln_pk PRIMARY KEY,
vendor_id NUMBER(4) CONSTRAINT ven_id_notnull NOT NULL,
vendor_name VARCHAR2(15) CONSTRAINT ven_na_pur_nn NOT NULL,
pur_date        DATE DEFAULT SYSDATE,
total_pur_amount NUMBER(12,2),
disc             NUMBER(4,2),
tax              NUMBER(4,2),
total_amount     NUMBER(15,2) )
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
CREATE TABLE hrishi.purchase_item_detail
(
item_sln NUMBER(9) CONSTRAINT item_sln_fk REFERENCES hrishi.purchase_detail(pru_sln) ON DELETE CASCADE,
item_name VARCHAR(20) CONSTRAINT item_nam_nn NOT NULL,
qty       NUMBER(10),
PPU       NUMBER(12,2),
total     NUMBER(12,2))
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
create table HRISHI.RELIEVED_EMP_DETAIL
(
 relSln        NUMBER(9)   CONSTRAINT relsln_pk PRIMARY KEY,
 eid           NUMBER(9)   CONSTRAINT eid_nn    NOT NULL,
 ename         VARCHAR2(25)CONSTRAINT enam_nn  NOT NULL,
 destination   VARCHAR2(15),
 doj           DATE,
 dor           DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)

/
create table HRISHI.REPLACE_TO_PRINCIPAL_DETAIL
(
rlp_sln       NUMBER(9) CONSTRAINT rlp_sln_pk PRIMARY KEY,
ven_id        NUMBER(9) CONSTRAINT vid_nn      NOT NULL,
ven_name      VARCHAR2(20) CONSTRAINT vn_nn   NOT NULL,
rep_date      DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)      
/
create table HRISHI.REPLACE_TO_PRNPAL_ITEM_DETAIL
(
  rlp_Sln  NUMBER(9) CONSTRAINT rlp_sln_fk  REFERENCES HRISHI.REPLACE_TO_PRINCIPAL_DETAIL(rlp_Sln) 
                                            ON DELETE CASCADE,
  item_name VARCHAR2(20) CONSTRAINT iten_nn NOT NULL,
  qty        NUMBER(10),
  descrip    VARCHAR2(30) CONSTRAINT dcp_nn NOT NULL
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)      
/
create table HRISHI.REPLACED_ITEM_DETAIL
(
rpl_sln NUMBER(9) CONSTRAINT rpl_sln_fk REFERENCES HRISHI.REPLACEMENT_DETAIL(rpl_sln) ON DELETE CASCADE,
item_name VARCHAR2(20) CONSTRAINT itm_nam_nn  NOT NULL,
qty       NUMBER(10),
descrip   VARCHAR2(30)
)PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        
/
create table HRISHI.REPLACEMENT_DETAIL
(
rpl_sln NUMBER(9) CONSTRAINT rpl_sln_pk PRIMARY KEY ,
replacer_type VARCHAR2(10) CONSTRAINT check_rplr_typ
              CHECK (replacer_type in ('customer','party')),
replacer_id  NUMBER(9) CONSTRAINT rplr_id_nn NOT NULL,
replacer_name VARCHAR2(10) NOT NULL,
replace_date DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        
/
create table HRISHI.REPLACEMENT_DETAIL
(
rpl_sln NUMBER(9) CONSTRAINT rpl_sln_pk PRIMARY KEY ,
replacer_type VARCHAR2(10) CONSTRAINT check_rplr_typ
              CHECK (replacer_type in ('customer','party')),
replacer_id  NUMBER(9) CONSTRAINT rplr_id_nn NOT NULL,
replacer_name VARCHAR2(10) NOT NULL,
replace_date DATE DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        
/



create table HRISHI.SALE_DETAIL
(
sale_sln NUMBER(9) CONSTRAINT sale_sln_pk PRIMARY KEY,
type_of_cust   VARCHAR2(10) CONSTRAINT check_typeOfCust CHECK (type_of_cust in ('customer','party')),
cust_id NUMBER(10) CONSTRAINT cust_id_nn NOT NULL,
Cust_name VARCHAR2(20) CONSTRAINT cust_nam_nn NOT NULL,
sale_date DATE DEFAULT SYSDATE,
total_sale_amount NUMBER(12,2),
disc    NUMBER(4,2),
tax     NUMBER(4,2),
total_amount NUMBER(15,2))
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        
/
create table HRISHI.SALE_ITEM_DETAIL
(
 item_sln NUMBER(9)  CONSTRAINT item_sale_sln_fk REFERENCES HRISHI.SALE_DETAIL(SALE_SLN) 
                     ON DELETE CASCADE,
 item_name VARCHAR2(20) CONSTRAINT item_name_nn NOT NULL,
 qty      NUMBER(10),
 ppu      NUMBER(12,2),
 total    NUMBER(12,2))
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)        

/
create table HRISHI.STOCK_DETAIL
(
product_name     VARCHAR2(30)  CONSTRAINT pro_nam_pk PRIMARY KEY,
category         VARCHAR2(25) CONSTRAINT category_nn     NOT NULL,
total_pur_qty    NUMBER(15),
total_sale_qty    NUMBER(15),
stock_in_hand     NUMBER(15),
last_modify_date DATE     DEFAULT SYSDATE
)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
CREATE TABLE  hrishi.vendor_detail(
vendor_id      NUMBER(4)      CONSTRAINT ven_id_pk PRIMARY KEY,
vendor_name    VARCHAR2(25)   CONSTRAINT ven_na_nn NOT NULL,
vendor_add     VARCHAR2(30)   CONSTRAINT ven_add_nn NOT NULL,
vendor_pho     VARCHAR2(15)   DEFAULT NULL,
vendor_eid     VARCHAR2(30)   CONSTRAINT lower_ven_eid check(vendor_eid = lower(vendor_eid)),
deler_of       VARCHAR2(20)   DEFAULT NULL,
entry_date     DATE           DEFAULT SYSDATE)
PCTFREE 5
PCTUSED 30
INITRANS 10
MAXTRANS 15
TABLESPACE SAN
STORAGE(INITIAL 50K
        NEXT 50K
        MAXEXTENTS 10
        PCTINCREASE 20)
/
